{% macro public_ip(name, location, dns_name='') -%}
    {
        "name": "{{ name }}",
        "type": "Microsoft.Network/publicIpAddresses",
        "location": "{{ location }}",
        "apiVersion": "2017-08-01",
        "properties": {
{% if dns_name %}
            "dnsSettings": {
              "domainNameLabel": "{{ dns_name }}"
            },
{% endif %}
            "publicIpAllocationMethod": "Static"
        },
        "sku": {
            "name": "Basic"
        }
    }
{%- endmacro %}

{% macro id_public_ip(name) -%}
    {
        "id": "[resourceId('Microsoft.Network/publicIpAddresses', '{{ name }}')]"
    }
{%- endmacro %}

{% macro depends_public_ip(name) -%}"Microsoft.Network/publicIpAddresses/{{ name }}"{%- endmacro %}
